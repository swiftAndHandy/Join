<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./assets/css/style.css">
  <link rel="stylesheet" href="./assets/css/add_task_style.css">
  <link rel="stylesheet" href="./assets/css/fonts.css">
  <link rel="stylesheet" href="./assets/css/menu-bar.css">
  <script src="./assets/js/script.js"></script>
  <script src="./assets/js/add_task_Html.js"></script>
  <script src="./assets/js/add_task.js"></script>
  <script src="assets/js/board.js"></script>
  <script src="./assets/js/menu-bar-script.js"></script>
  <title>Join- Add task</title>
</head>
<body onload="init()" onclick="toggleContactDropBox(true)">
  <div class="mobile-body">
    <div class="content-wrapper">
      <div class="headline-add-task">
        <h1>Add Task</h1>
      </div>
      <main class="add-task-container">
        <div id="add-task-form" class="form-add-task">
          <form id="form-desktop" class="form-desktop-view" onsubmit="return false;">
            <div class="desktop-split">
              <div class="flex-column-inputs mb-32">
                <span>Title<span class="red">*</span></span>
                <input
                  required
                  class="input-standard required"
                  type="text"
                  placeholder="Enter a title"
                  id="task-title"
                />
              </div>
              <div class="flex-column-inputs mb-32">
                <span>Description</span>
                <textarea
                  class="description-textarea"
                  id="task-description"
                  placeholder="Enter a Description"
                ></textarea>
              </div>
              <div class="flex-column-inputs mb-32 mb-assigned-to position-relative">
                <span>Assigned to</span>
                <div id="contact-input-wrapper" onclick="stopPropagation(event)">
                  <div class="input-standard" id="assigned-to-contact" onclick="toggleContactDropBox()">
                    <span>Select contact to assign</span>
                    <div onclick="stopPropagation(event)">
                      <img class="cursor-pointer" src="./assets/img/icons/arrow_drop_down_select_field.svg" onclick="toggleContactDropBox()" alt="">
                    </div>
                  </div>
                </div>
                <div id="contacts-show-input" class="input-standard border-color-clicked d-none" onclick="stopPropagation(event)">
                  <input onclick="stopPropagation(event)" type="search" oninput="searchContact(this.value)">
                  <img class="rotation cursor-pointer" src="./assets/img/icons/arrow_drop_down_select_field.svg" onclick="toggleContactDropBox()" alt="">
                </div>
                <div id="contacts-drop-menu" onclick="stopPropagation(event)" class="drop-menu d-none">
                  <div id="contacts-drop-menu-content" class="drop-menu-contacts">
                    <!-- Drop-down content goes here -->
                  </div>
                </div>
              </div>
              <div id="contacts-img-line" class="display-contacts-pictures">
                <!-- Display contacts pictures here if needed -->
              </div>
            </div>
            <div class="desktop-seperator-add-contact"></div>
            <div class="second-desktop-split">
              <div class="flex-column-inputs mb-32">
                <span>Due date<span class="red">*</span></span>
                <input
                  required
                  class="date-standard"
                  type="date"
                  id="task-due-date"
                />
              </div>
              <div class="prio-container mb-32">
                <span>Prio</span>
                <div class="prio-content">
                  <div id="urgent-prio" class="prios" onclick="setPrio('Urgent', 1)">
                    Urgent
                    <img id="urgent-prio-img" src="./assets/img/icons/urgent.svg" alt="Urgent">
                  </div>
                  <div id="medium-prio" class="prios" onclick="setPrio('Medium', 2)">
                    Medium
                    <img id="medium-prio-img" class="prio-medium" src="./assets/img/icons/medium.svg" alt="Medium">
                  </div>
                  <div id="low-prio" class="prios" onclick="setPrio('Low', 3)">
                    Low
                    <img id="low-prio-img" src="./assets/img/icons/low.svg" alt="Low">
                  </div>
                </div>
              </div>
              <div class="flex-column-inputs mb-32">
                <span>Category<span class="red">*</span></span>
                <div onclick="stopPropagation(event)" id="category-input-wrapper">
                  <div onclick="toggleCategoryDropBox()" class="input-standard" id="select-category">
                    <span>Select contact to assign</span>
                    <img id="arrow" class="cursor-pointer" src="./assets/img/icons/arrow_drop_down_select_field.svg" alt="">
                  </div>
                </div>
                <div id="category-drop-menu" class="drop-menu-category d-none">
                  <div id="category-drop-menu-content" class="drop-menu-contacts">
                    <div onclick="selectCategory('Technical Task')" class="category-drop-box-field">
                      <span>Technical Task</span>
                    </div>
                    <div onclick="selectCategory('User Story')" class="category-drop-box-field">
                      <span>User Story</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="flex-column-inputs mb-32">
                <span>Subtasks</span>
                <input
                  class="input-standard"
                  type="text"
                  placeholder="Add new subtask"
                  id="task-subtask"
                />
              </div>
              <div class="desktop-buttons">
                <button class="clear-btn" onclick="clearForm(event)"> Clear
                  <img src="./assets/img/icons/close.svg" alt="">
                </button>
                <button class="create-task-btn" id="button-create-task" onclick="checkIfFormFilled(event)">Create Task
                  <img src="./assets/img/icons/check.svg" alt="">
                </button>
              </div>
            </div>
          </form>
          <div class="details__info-box vertical mb-8">
            <strong class="details__caption">Subtasks:</strong>
            <form id="edit-subtask-box" class="details-subtask-box" onsubmit="addNewSubtask(document.getElementById('edit-add-subtask').value);scrollToLastSubtask();return false;">
                <input type="text" id="edit-add-subtask" class="details-subtask-add" placeholder="Add new subtask">
                <div id="edit-view-subtask-add" class="cross blue" onclick="setFocus('edit')"></div>
                <div id="edit-view-subtask-navigation" class="edit-subtask-navigation d-none"
                    onclick="stopPropagation(event);">
                    <div class="link-btn discard-btn" onclick="discardNewSubtask()"></div>
                    <img class="vertical-line" src="./assets/img/icons/vertical-line.svg" alt="" class="">
                    <div class="link-btn accept-btn"
                        onclick="addNewSubtask(document.getElementById('edit-add-subtask').value);scrollToLastSubtask();blurListener();">
                    </div>
                </div>
            </form>
            <div id="edit-subtask-item-wrapper" style="width: 100%">
            </div>
        </div>
        </div>
      </main>
    </div>
    <div w3-include-html="./assets/templates/menu-bar.html"></div>
  </div>
  <div id="pop-up-task-added" class="pop-up-task-added">
    <div id="pop-up-transition" class="task-added-popup">
      <div class="popup-text">Task added to board</div>
      <img class="popup-img" src="/assets/img/icons/board.icon.svg" alt="Task added">
    </div>
  </div>
</body>
</html>
